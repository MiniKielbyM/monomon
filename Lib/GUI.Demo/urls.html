<!DOCTYPE html>
<html>
<head>
    <title>Codespace URL Info</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            line-height: 1.6;
        }
        .url-box {
            background: #f5f5f5;
            padding: 15px;
            margin: 10px 0;
            border-radius: 5px;
            font-family: monospace;
        }
        .copy-btn {
            background: #007acc;
            color: white;
            border: none;
            padding: 5px 10px;
            margin-left: 10px;
            border-radius: 3px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <h1>üöÄ Codespace URLs for Pokemon TCG Multiplayer</h1>
    
    <h2>Current Page Info:</h2>
    <div class="url-box">
        Current URL: <span id="current-url"></span>
    </div>
    
    <h2>üìù How to Access the Multiplayer Game:</h2>
    
    <h3>1. Client (HTTP) URLs:</h3>
    <div class="url-box">
        <strong>Main Multiplayer Game:</strong><br>
        <span id="client-url"></span>
        <button class="copy-btn" onclick="copyText('client-url')">Copy</button>
    </div>
    
    <div class="url-box">
        <strong>WebSocket Test Page:</strong><br>
        <span id="wstest-url"></span>
        <button class="copy-btn" onclick="copyText('wstest-url')">Copy</button>
    </div>
    
    <h3>2. WebSocket Server URL:</h3>
    <div class="url-box">
        <strong>Game Server (WebSocket):</strong><br>
        <span id="ws-url"></span>
        <button class="copy-btn" onclick="copyText('ws-url')">Copy</button>
    </div>
    
    <h2>üéÆ Testing Instructions:</h2>
    <ol>
        <li><strong>Copy the "Main Multiplayer Game" URL above</strong></li>
        <li><strong>Open it in TWO different browser windows/tabs</strong></li>
        <li><strong>Enter different usernames in each window</strong></li>
        <li><strong>Click "Join Game" in both windows</strong></li>
        <li><strong>You should see "Game found!" and be able to move cards</strong></li>
    </ol>
    
    <h2>üîß If WebSocket Connection Fails:</h2>
    <p>The WebSocket URL should automatically detect the correct Codespace URL, but if it doesn't work:</p>
    <ol>
        <li>Copy the WebSocket URL above</li>
        <li>Make sure port 8080 is forwarded in your Codespace</li>
        <li>Use the WebSocket test page to verify connection</li>
    </ol>
    
    <div class="url-box" style="background: #e8f5e8; border-left: 4px solid #4caf50;">
        <strong>‚úÖ Both servers are running and ready for testing!</strong>
    </div>
    
    <script>
        function updateURLs() {
            const currentURL = window.location.href;
            const hostname = window.location.hostname;
            const protocol = window.location.protocol;
            
            // Update current URL
            document.getElementById('current-url').textContent = currentURL;
            
            // Generate URLs
            const clientBaseURL = `${protocol}//${hostname}:3000`;
            const wsProtocol = protocol === 'https:' ? 'wss:' : 'ws:';
            const wsURL = `${wsProtocol}//${hostname}:8080`;
            
            // Update URL displays
            document.getElementById('client-url').textContent = clientBaseURL;
            document.getElementById('wstest-url').textContent = `${clientBaseURL}/wstest`;
            document.getElementById('ws-url').textContent = wsURL;
        }
        
        function copyText(elementId) {
            const text = document.getElementById(elementId).textContent;
            navigator.clipboard.writeText(text).then(() => {
                alert('URL copied to clipboard!');
            }).catch(err => {
                console.error('Failed to copy: ', err);
                // Fallback for older browsers
                const textArea = document.createElement('textarea');
                textArea.value = text;
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
                alert('URL copied to clipboard!');
            });
        }
        
        // Update URLs when page loads
        updateURLs();
    </script>
</body>
</html>